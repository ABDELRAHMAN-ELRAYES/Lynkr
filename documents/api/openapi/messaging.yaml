Conversations:
  get:
    tags:
      - Messaging
    summary: Get user conversations
    security:
      - bearerAuth: []
    responses:
      200:
        description: List of conversations
  post:
    tags:
      - Messaging
    summary: Create conversation
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - projectId
              - participant1Id
              - participant2Id
            properties:
              projectId:
                type: string
              participant1Id:
                type: string
              participant2Id:
                type: string
    responses:
      201:
        description: Conversation created

ConversationsProject:
  get:
    tags:
      - Messaging
    summary: Get conversation by project
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: projectId
        required: true
        schema:
          type: string
    responses:
      200:
        description: Conversation details

ConversationsId:
  get:
    tags:
      - Messaging
    summary: Get conversation by ID
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: id
        required: true
        schema:
          type: string
    responses:
      200:
        description: Conversation details

Messages:
  post:
    tags:
      - Messaging
    summary: Send a message
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - conversationId
              - content
            properties:
              conversationId:
                type: string
              content:
                type: string
    responses:
      201:
        description: Message sent

MessagesConversation:
  get:
    tags:
      - Messaging
    summary: Get messages for conversation
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: conversationId
        required: true
        schema:
          type: string
      - in: query
        name: page
        schema:
          type: integer
          default: 1
      - in: query
        name: limit
        schema:
          type: integer
          default: 50
    responses:
      200:
        description: List of messages

MessagesIdRead:
  patch:
    tags:
      - Messaging
    summary: Mark message as read
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: id
        required: true
        schema:
          type: string
    responses:
      200:
        description: Message marked as read

MessagesConversationRead:
  patch:
    tags:
      - Messaging
    summary: Mark all messages in conversation as read
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: conversationId
        required: true
        schema:
          type: string
    responses:
      200:
        description: Messages marked as read
